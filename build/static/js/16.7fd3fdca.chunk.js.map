{"version":3,"sources":["assets/data/constants.js","views/app-views/user-pages/edit-profile/index.js"],"names":["MOCK_AVATAR","EditProfile","useState","userState","setUserState","userAvatar","setUserAvatar","params","useParams","dispatch","useDispatch","useSelector","state","users","editingUser","loadingUser","history","useHistory","useEffect","loadUserAction","id","alignItems","mobileFlex","className","size","src","icon","onChange","info","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","file","originFileObj","imageUrl","showUploadList","action","type","onClick","name","layout","initialValues","email","username","company","phoneNumber","phone","website","street","address","suite","city","zipcode","onFinish","values","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","message","htmlType","SEND_USER_DATA"],"mappings":"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","file":"static/js/16.7fd3fdca.chunk.js","sourcesContent":["export const MOCK_AVATAR = '/img/avatars/thumb-1.jpg';\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Form, Avatar, Button, Input, Row, Col, Upload } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport Flex from 'components/shared-components/Flex';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadUserAction } from 'redux/actions/Users';\r\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom';\r\nimport { MOCK_AVATAR } from 'assets/data/constants';\r\nimport { values } from 'lodash';\r\nimport Loading from 'components/shared-components/Loading';\r\nimport { SEND_USER_DATA } from 'redux/constants/Users';\r\n\r\nconst avatarEndpoint = '';\r\n\r\nconst getBase64 = (img, callback) => {\r\n  const reader = new FileReader();\r\n  reader.addEventListener('load', () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n};\r\n\r\nconst EditProfile = () => {\r\n  const [userState, setUserState] = useState(null);\r\n  const [userAvatar, setUserAvatar] = useState(MOCK_AVATAR);\r\n\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const { editingUser, loadingUser } = useSelector((state) => state.users);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(loadUserAction(params.id));\r\n  }, [dispatch, params.id]);\r\n\r\n  useEffect(() => {\r\n    setUserState(editingUser);\r\n  }, [editingUser]);\r\n\r\n  const onFinish = () => {\r\n    setUserState({\r\n      name: values.name,\r\n      email: values.email,\r\n      username: values.username,\r\n      company: {\r\n        name: values.company,\r\n      },\r\n      phone: values.phone,\r\n      website: values.website,\r\n      address: {\r\n        street: values.street,\r\n        suite: values.suite,\r\n        city: values.city,\r\n        zipcode: values.zipcode,\r\n      },\r\n    });\r\n  };\r\n\r\n  const onUploadAvatar = (info) => {\r\n    getBase64(info.file.originFileObj, (imageUrl) => setUserAvatar(imageUrl));\r\n  };\r\n\r\n  const onRemoveAvatar = () => {\r\n    setUserAvatar('');\r\n  };\r\n\r\n  const onSaveChanges = () => {\r\n    dispatch({ type: SEND_USER_DATA, history });\r\n    setUserState(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Flex\r\n        alignItems=\"center\"\r\n        mobileFlex={false}\r\n        className=\"text-center text-md-left\"\r\n      >\r\n        <Avatar size={90} src={userAvatar} icon={<UserOutlined />} />\r\n        <div className=\"ml-md-3 mt-md-0 mt-3\">\r\n          <Upload\r\n            onChange={onUploadAvatar}\r\n            showUploadList={false}\r\n            action={avatarEndpoint}\r\n          >\r\n            <Button type=\"primary\">Change Avatar</Button>\r\n          </Upload>\r\n          <Button className=\"ml-2\" onClick={onRemoveAvatar}>\r\n            Remove\r\n          </Button>\r\n        </div>\r\n      </Flex>\r\n      <div className=\"mt-4\">\r\n        {loadingUser && <Loading />}\r\n        {userState && (\r\n          <Form\r\n            name=\"basicInformation\"\r\n            layout=\"vertical\"\r\n            initialValues={{\r\n              name: userState.name,\r\n              email: userState.email,\r\n              username: userState.username,\r\n              company: userState.company.name,\r\n              phoneNumber: userState.phone,\r\n              website: userState.website,\r\n              street: userState.address.street,\r\n              suite: userState.address.suite,\r\n              city: userState.address.city,\r\n              zipcode: userState.address.zipcode,\r\n            }}\r\n            onFinish={onFinish}\r\n          >\r\n            <Row>\r\n              <Col xs={24} sm={24} md={24} lg={16}>\r\n                <Row gutter={ROW_GUTTER}>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Name\"\r\n                      name=\"name\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your name!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Username\"\r\n                      name=\"username\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your username!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Email\"\r\n                      name=\"email\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          type: 'email',\r\n                          message: 'Please enter a valid email!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Company\" name=\"company\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Phone Number\" name=\"phoneNumber\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Website\" name=\"website\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Street\" name=\"street\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Suite\" name=\"suite\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"City\" name=\"city\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"ZIP Code\" name=\"zipcode\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n                <Button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  onClick={onSaveChanges}\r\n                >\r\n                  Save Change\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n"],"sourceRoot":""}